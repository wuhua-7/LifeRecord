<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ´»è¨˜éŒ„ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #e9d5ff 0%, #fce7f3 50%, #dbeafe 100%);
            min-height: 100vh;
        }

        .gradient-purple-pink {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
        }

        .gradient-blue-cyan {
            background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
        }

        .gradient-purple-pink-text {
            background: linear-gradient(135deg, #9333ea 0%, #db2777 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gradient-multi-text {
            background: linear-gradient(90deg, #9333ea 0%, #db2777 50%, #2563eb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: scale(1.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .btn-gradient {
            transition: all 0.3s ease;
        }

        .btn-gradient:hover {
            transform: scale(1.05);
        }

        .navbar-rounded {
            border-radius: 0 0 1.5rem 1.5rem;
        }

        .stat-card {
            border-radius: 1.5rem;
            padding: 1.5rem;
            color: white;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .input-rounded {
            border-radius: 1rem;
            border: 2px solid #e5e7eb;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: all 0.3s ease;
        }

        .input-rounded:focus {
            outline: none;
            border-color: #a855f7;
            box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.1);
        }

        .rating-badge {
            padding: 0.5rem 1.5rem;
            border-radius: 9999px;
            color: white;
            font-weight: bold;
            font-size: 2rem;
        }

        .entry-card {
            background: white;
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .entry-card:hover {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
            transition: all 0.3s ease;
        }

        .meal-badge {
            padding: 0.75rem;
            border-radius: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .footer-rounded {
            border-radius: 1.5rem 1.5rem 0 0;
        }

        .loading-spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #a855f7;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .alert-box {
            border-radius: 1rem;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .modal-rounded {
            border-radius: 1.5rem;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .stat-card {
                padding: 1rem;
            }
            
            .entry-card {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <script>
        const { useState, useEffect, createElement: h } = React;

        // åœ–ç¤ºçµ„ä»¶
        const Icons = {
            Calendar: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('rect', { x: 3, y: 4, width: 18, height: 18, rx: 2, ry: 2 }),
                h('line', { x1: 16, y1: 2, x2: 16, y2: 6 }),
                h('line', { x1: 8, y1: 2, x2: 8, y2: 6 }),
                h('line', { x1: 3, y1: 10, x2: 21, y2: 10 })
            ),
            Database: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('ellipse', { cx: 12, cy: 5, rx: 9, ry: 3 }),
                h('path', { d: 'M21 12c0 1.66-4 3-9 3s-9-1.34-9-3' }),
                h('path', { d: 'M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5' })
            ),
            Star: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('polygon', { points: '12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2' })
            ),
            Send: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('line', { x1: 22, y1: 2, x2: 11, y2: 13 }),
                h('polygon', { points: '22 2 15 22 11 13 2 9 22 2' })
            ),
            Download: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4' }),
                h('polyline', { points: '7 10 12 15 17 10' }),
                h('line', { x1: 12, y1: 15, x2: 12, y2: 3 })
            ),
            Coffee: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('path', { d: 'M18 8h1a4 4 0 0 1 0 8h-1' }),
                h('path', { d: 'M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z' }),
                h('line', { x1: 6, y1: 1, x2: 6, y2: 4 }),
                h('line', { x1: 10, y1: 1, x2: 10, y2: 4 }),
                h('line', { x1: 14, y1: 1, x2: 14, y2: 4 })
            ),
            Utensils: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('path', { d: 'M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2' }),
                h('path', { d: 'M7 2v20' }),
                h('path', { d: 'M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7' })
            ),
            Moon: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('path', { d: 'M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z' })
            ),
            Activity: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('polyline', { points: '22 12 18 12 15 21 9 3 6 12 2 12' })
            ),
            CheckCircle: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('path', { d: 'M22 11.08V12a10 10 0 1 1-5.93-9.14' }),
                h('polyline', { points: '22 4 12 14.01 9 11.01' })
            ),
            AlertCircle: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('circle', { cx: 12, cy: 12, r: 10 }),
                h('line', { x1: 12, y1: 8, x2: 12, y2: 12 }),
                h('line', { x1: 12, y1: 16, x2: 12.01, y2: 16 })
            ),
            TrendingUp: () => h('svg', { className: 'icon', viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
                h('polyline', { points: '23 6 13.5 15.5 8.5 10.5 1 18' }),
                h('polyline', { points: '17 6 23 6 23 12' })
            )
        };

        // æ·»åŠ åœ–ç¤ºæ¨£å¼
        const style = document.createElement('style');
        style.textContent = '.icon { width: 1.5rem; height: 1.5rem; }';
        document.head.appendChild(style);

        // ç°¡å–®çš„æœ¬åœ°å„²å­˜å¯¦ç¾
        const storage = {
            async get(key) {
                const value = localStorage.getItem(key);
                return value ? { key, value } : null;
            },
            async set(key, value) {
                localStorage.setItem(key, value);
                return { key, value };
            },
            async list(prefix) {
                const keys = Object.keys(localStorage).filter(k => k.startsWith(prefix));
                return { keys };
            }
        };

        function DailyLifeTracker() {
            const [entries, setEntries] = useState([]);
            const [isLoading, setIsLoading] = useState(true);
            const [formData, setFormData] = useState({
                name: '',
                date: new Date().toISOString().split('T')[0],
                breakfast: '',
                lunch: '',
                dinner: '',
                exercise: '',
                sleep: '',
                mood: '',
                notes: '',
                rating: 5
            });

            // å¦‚æœä½ æƒ³ä½¿ç”¨ Google è¡¨å–®å‚™ä»½æ•¸æ“šï¼Œè«‹åœ¨é€™è£¡å¡«å…¥ä½ çš„è¡¨å–®é€£çµ
            // 1. å‰µå»º Google è¡¨å–®ï¼šhttps://forms.google.com
            // 2. å‰µå»º Google è©¦ç®—è¡¨ï¼šhttps://sheets.google.com
            // 3. å°‡é€£çµå¡«å…¥ä¸‹æ–¹
            const googleFormUrl = null; // ä¾‹å¦‚: "https://forms.gle/xxxxx"
            const googleSheetUrl = null; // ä¾‹å¦‚: "https://docs.google.com/spreadsheets/d/xxxxx/edit"

            useEffect(() => {
                loadEntries();
            }, []);

            const loadEntries = async () => {
                try {
                    const result = await storage.list('daily_entry:');
                    if (result && result.keys) {
                        const loadedData = await Promise.all(
                            result.keys.map(async (key) => {
                                try {
                                    const data = await storage.get(key);
                                    return data ? JSON.parse(data.value) : null;
                                } catch {
                                    return null;
                                }
                            })
                        );
                        setEntries(loadedData.filter(Boolean).sort((a, b) => b.timestamp - a.timestamp));
                    }
                } catch (error) {
                    console.log('è¼‰å…¥è³‡æ–™:', error);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleSubmit = async () => {
                if (!formData.name || !formData.date) {
                    alert('è«‹è‡³å°‘å¡«å¯«å§“åå’Œæ—¥æœŸ');
                    return;
                }
                
                const newEntry = {
                    id: Date.now(),
                    ...formData,
                    timestamp: Date.now()
                };

                try {
                    await storage.set(`daily_entry:${newEntry.id}`, JSON.stringify(newEntry));
                    setEntries([newEntry, ...entries]);
                    setFormData({
                        name: '',
                        date: new Date().toISOString().split('T')[0],
                        breakfast: '',
                        lunch: '',
                        dinner: '',
                        exercise: '',
                        sleep: '',
                        mood: '',
                        notes: '',
                        rating: 5
                    });
                    
                    document.getElementById('success_modal').style.display = 'flex';
                } catch (error) {
                    console.error('å„²å­˜å¤±æ•—:', error);
                }
            };

            const getRatingClass = (rating) => {
                if (rating >= 8) return 'gradient-green';
                if (rating >= 5) return 'gradient-yellow';
                return 'gradient-red';
            };

            const getMoodEmoji = (mood) => {
                const map = {'é–‹å¿ƒ': 'ğŸ˜Š', 'å¹³éœ': 'ğŸ˜Œ', 'ç–²ç´¯': 'ğŸ˜´', 'å£“åŠ›': 'ğŸ˜“', 'èˆˆå¥®': 'ğŸ¤©', 'é›£é': 'ğŸ˜¢'};
                return map[mood] || 'ğŸ˜';
            };

            const getAverageRating = () => {
                if (entries.length === 0) return 0;
                return (entries.reduce((acc, e) => acc + e.rating, 0) / entries.length).toFixed(1);
            };

            const closeModal = () => {
                document.getElementById('success_modal').style.display = 'none';
            };

            const exportToCSV = () => {
                if (entries.length === 0) {
                    alert('ç›®å‰æ²’æœ‰è¨˜éŒ„å¯ä»¥å°å‡º');
                    return;
                }

                // CSV æ¨™é¡Œ
                const headers = ['å§“å', 'æ—¥æœŸ', 'æ—©é¤', 'åˆé¤', 'æ™šé¤', 'é‹å‹•', 'ç¡çœ ', 'å¿ƒæƒ…', 'è©•åˆ†', 'å‚™è¨»'];
                
                // è½‰æ›æ•¸æ“š
                const csvData = entries.map(entry => [
                    entry.name || '',
                    entry.date || '',
                    entry.breakfast || '',
                    entry.lunch || '',
                    entry.dinner || '',
                    entry.exercise || '',
                    entry.sleep || '',
                    entry.mood || '',
                    entry.rating || '',
                    entry.notes || ''
                ].map(field => `"${String(field).replace(/"/g, '""')}"`).join(','));

                // çµ„åˆ CSV å…§å®¹
                const csvContent = [
                    headers.join(','),
                    ...csvData
                ].join('\n');

                // æ·»åŠ  BOM ä»¥æ”¯æ´ä¸­æ–‡
                const BOM = '\uFEFF';
                const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
                
                // å‰µå»ºä¸‹è¼‰é€£çµ
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', `ç”Ÿæ´»è¨˜éŒ„_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            return h('div', { className: 'min-h-screen' },
                // å°èˆªæ¬„
                h('nav', { className: 'gradient-purple-pink navbar-rounded shadow-lg p-6 mb-8' },
                    h('div', { className: 'container mx-auto flex justify-between items-center' },
                        h('h1', { className: 'text-3xl font-black text-white flex items-center gap-3' },
                            h(Icons.Activity),
                            'ç”Ÿæ´»è¨˜éŒ„ç³»çµ±'
                        ),
                        h('div', { className: 'flex gap-4' },
                            h('button', {
                                onClick: exportToCSV,
                                className: 'btn btn-sm bg-white text-purple-600 hover:bg-gray-100 btn-gradient flex items-center gap-2'
                            }, 
                                h(Icons.Download),
                                'å°å‡º CSV'
                            ),
                            googleFormUrl && h('a', { 
                                href: googleFormUrl, 
                                target: '_blank',
                                className: 'btn btn-sm bg-white text-purple-600 hover:bg-gray-100 btn-gradient'
                            }, 'Google è¡¨å–®'),
                            googleSheetUrl && h('a', { 
                                href: googleSheetUrl, 
                                target: '_blank',
                                className: 'btn btn-sm bg-white text-purple-600 hover:bg-gray-100 btn-gradient'
                            }, 'æŸ¥çœ‹æ•¸æ“š')
                        )
                    )
                ),

                // ä¸»è¦å…§å®¹
                h('div', { className: 'container mx-auto px-4 pb-8' },
                    // çµ±è¨ˆå¡ç‰‡
                    h('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-6 mb-8' },
                        h('div', { className: 'stat-card gradient-purple-pink card-hover' },
                            h('div', { className: 'flex items-center gap-4' },
                                h(Icons.Calendar),
                                h('div', null,
                                    h('div', { className: 'text-sm opacity-90' }, 'ä»Šæ—¥æ—¥æœŸ'),
                                    h('div', { className: 'text-2xl font-bold' }, new Date().toLocaleDateString('zh-TW'))
                                )
                            )
                        ),
                        h('div', { className: 'stat-card gradient-blue-cyan card-hover' },
                            h('div', { className: 'flex items-center gap-4' },
                                h(Icons.Database),
                                h('div', null,
                                    h('div', { className: 'text-sm opacity-90' }, 'ç¸½è¨˜éŒ„æ•¸'),
                                    h('div', { className: 'text-2xl font-bold' }, entries.length)
                                )
                            )
                        ),
                        h('div', { className: 'stat-card gradient-purple-pink card-hover' },
                            h('div', { className: 'flex items-center gap-4' },
                                h(Icons.Star),
                                h('div', null,
                                    h('div', { className: 'text-sm opacity-90' }, 'å¹³å‡è©•åˆ†'),
                                    h('div', { className: 'text-2xl font-bold' }, getAverageRating())
                                )
                            )
                        )
                    ),

                    // è¡¨å–®å€åŸŸ
                    h('div', { className: 'bg-white rounded-3xl shadow-2xl p-8 mb-8' },
                        h('h2', { className: 'text-3xl font-black gradient-multi-text mb-6' }, 'ğŸ“ æ–°å¢ä»Šæ—¥è¨˜éŒ„'),
                        
                        h('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-6' },
                            h('div', null,
                                h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 'å§“å *'),
                                h('input', {
                                    type: 'text',
                                    name: 'name',
                                    value: formData.name,
                                    onChange: handleInputChange,
                                    className: 'input-rounded',
                                    placeholder: 'è«‹è¼¸å…¥å§“å'
                                })
                            ),
                            h('div', null,
                                h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 'æ—¥æœŸ *'),
                                h('input', {
                                    type: 'date',
                                    name: 'date',
                                    value: formData.date,
                                    onChange: handleInputChange,
                                    className: 'input-rounded'
                                })
                            )
                        ),

                        h('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-6 mt-6' },
                            ['breakfast', 'lunch', 'dinner'].map(meal => 
                                h('div', { key: meal },
                                    h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 
                                        meal === 'breakfast' ? 'ğŸŒ… æ—©é¤' : meal === 'lunch' ? 'â˜€ï¸ åˆé¤' : 'ğŸŒ™ æ™šé¤'
                                    ),
                                    h('input', {
                                        type: 'text',
                                        name: meal,
                                        value: formData[meal],
                                        onChange: handleInputChange,
                                        className: 'input-rounded',
                                        placeholder: 'åƒäº†ä»€éº¼ï¼Ÿ'
                                    })
                                )
                            )
                        ),

                        h('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-6 mt-6' },
                            h('div', null,
                                h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 'ğŸ’ª é‹å‹•'),
                                h('input', {
                                    type: 'text',
                                    name: 'exercise',
                                    value: formData.exercise,
                                    onChange: handleInputChange,
                                    className: 'input-rounded',
                                    placeholder: 'é‹å‹•é¡å‹å’Œæ™‚é•·'
                                })
                            ),
                            h('div', null,
                                h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 'ğŸ˜´ ç¡çœ '),
                                h('input', {
                                    type: 'text',
                                    name: 'sleep',
                                    value: formData.sleep,
                                    onChange: handleInputChange,
                                    className: 'input-rounded',
                                    placeholder: 'ç¡çœ æ™‚é–“'
                                })
                            )
                        ),

                        h('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-6 mt-6' },
                            h('div', null,
                                h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 'ğŸ˜Š å¿ƒæƒ…'),
                                h('select', {
                                    name: 'mood',
                                    value: formData.mood,
                                    onChange: handleInputChange,
                                    className: 'input-rounded'
                                },
                                    h('option', { value: '' }, 'é¸æ“‡å¿ƒæƒ…'),
                                    ['é–‹å¿ƒ', 'å¹³éœ', 'ç–²ç´¯', 'å£“åŠ›', 'èˆˆå¥®', 'é›£é'].map(m =>
                                        h('option', { key: m, value: m }, `${getMoodEmoji(m)} ${m}`)
                                    )
                                )
                            ),
                            h('div', null,
                                h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 
                                    `â­ ä»Šæ—¥è©•åˆ†: ${formData.rating}`
                                ),
                                h('input', {
                                    type: 'range',
                                    name: 'rating',
                                    min: '1',
                                    max: '10',
                                    value: formData.rating,
                                    onChange: handleInputChange,
                                    className: 'w-full'
                                })
                            )
                        ),

                        h('div', { className: 'mt-6' },
                            h('label', { className: 'block text-sm font-bold text-gray-700 mb-2' }, 'ğŸ“ å‚™è¨»'),
                            h('textarea', {
                                name: 'notes',
                                value: formData.notes,
                                onChange: handleInputChange,
                                className: 'input-rounded',
                                rows: 3,
                                placeholder: 'å…¶ä»–æƒ³è¨˜éŒ„çš„äº‹æƒ…...'
                            })
                        ),

                        h('button', {
                            onClick: handleSubmit,
                            className: 'w-full mt-6 gradient-purple-pink text-white font-bold py-4 rounded-2xl btn-gradient flex items-center justify-center gap-3 text-lg'
                        },
                            h(Icons.Send),
                            'æäº¤è¨˜éŒ„'
                        )
                    ),

                    // è¨˜éŒ„åˆ—è¡¨
                    isLoading ? 
                        h('div', { className: 'flex justify-center items-center py-20' },
                            h('div', { className: 'loading-spinner' })
                        ) :
                        entries.length === 0 ?
                            h('div', { className: 'text-center py-20' },
                                h('div', { className: 'text-6xl mb-4' }, 'ğŸ“'),
                                h('h3', { className: 'text-2xl font-bold text-gray-400' }, 'é‚„æ²’æœ‰è¨˜éŒ„'),
                                h('p', { className: 'text-gray-400 mt-2' }, 'é–‹å§‹è¨˜éŒ„ä½ çš„ç¬¬ä¸€å¤©å§ï¼')
                            ) :
                            h('div', null,
                                h('h2', { className: 'text-3xl font-black gradient-multi-text mb-6' }, 'ğŸ“š æ­·å²è¨˜éŒ„'),
                                h('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' },
                                    entries.map(entry =>
                                        h('div', { key: entry.id, className: 'entry-card' },
                                            h('div', { className: 'p-6' },
                                                h('div', { className: 'flex justify-between items-start mb-4' },
                                                    h('div', null,
                                                        h('h3', { className: 'text-xl font-bold text-gray-800' }, entry.name),
                                                        h('p', { className: 'text-sm text-gray-500' }, entry.date)
                                                    ),
                                                    h('div', { className: `rating-badge ${getRatingClass(entry.rating)}` }, entry.rating)
                                                ),
                                                entry.mood && h('div', { className: 'mb-3 text-2xl' }, getMoodEmoji(entry.mood)),
                                                entry.breakfast && h('div', { className: 'meal-badge bg-orange-50 mb-2' },
                                                    h('span', null, 'ğŸŒ…'),
                                                    h('span', { className: 'text-sm text-gray-700' }, entry.breakfast)
                                                ),
                                                entry.lunch && h('div', { className: 'meal-badge bg-yellow-50 mb-2' },
                                                    h('span', null, 'â˜€ï¸'),
                                                    h('span', { className: 'text-sm text-gray-700' }, entry.lunch)
                                                ),
                                                entry.dinner && h('div', { className: 'meal-badge bg-blue-50 mb-2' },
                                                    h('span', null, 'ğŸŒ™'),
                                                    h('span', { className: 'text-sm text-gray-700' }, entry.dinner)
                                                ),
                                                entry.exercise && h('div', { className: 'mt-3 text-sm text-gray-600' },
                                                    h('span', { className: 'font-bold' }, 'ğŸ’ª é‹å‹•: '),
                                                    entry.exercise
                                                ),
                                                entry.sleep && h('div', { className: 'mt-2 text-sm text-gray-600' },
                                                    h('span', { className: 'font-bold' }, 'ğŸ˜´ ç¡çœ : '),
                                                    entry.sleep
                                                ),
                                                entry.notes && h('div', { className: 'mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-600' },
                                                    entry.notes
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                ),

                // æˆåŠŸæç¤º Modal
                h('div', { id: 'success_modal', onClick: closeModal },
                    h('div', { 
                        className: 'bg-white modal-rounded p-8 max-w-md mx-4',
                        onClick: (e) => e.stopPropagation()
                    },
                        h('div', { className: 'text-center' },
                            h('div', { className: 'text-6xl mb-4' }, 'ğŸ‰'),
                            h('h3', { className: 'text-2xl font-bold gradient-purple-pink-text mb-2' }, 'è¨˜éŒ„æˆåŠŸï¼'),
                            h('p', { className: 'text-gray-600 mb-6' }, 'ä½ çš„ç”Ÿæ´»è¨˜éŒ„å·²ä¿å­˜'),
                            h('button', {
                                onClick: closeModal,
                                className: 'gradient-purple-pink text-white font-bold py-3 px-8 rounded-xl btn-gradient'
                            }, 'ç¢ºå®š')
                        )
                    )
                ),

                // é å°¾
                h('footer', { className: 'gradient-purple-pink footer-rounded mt-12 p-8 text-white text-center' },
                    h('p', { className: 'text-lg font-bold' }, 'ç”Ÿæ´»è¨˜éŒ„ç³»çµ±'),
                    h('p', { className: 'text-sm opacity-90 mt-2' }, 'è¨˜éŒ„æ¯ä¸€å¤©ï¼Œæˆå°±æ›´å¥½çš„è‡ªå·± âœ¨')
                )
            );
        }

        ReactDOM.render(h(DailyLifeTracker), document.getElementById('app'));
    </script>

    <style>
        /* Modal æ¨£å¼ */
        #success_modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .gradient-green {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .gradient-yellow {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .gradient-red {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
    </style>
</body>
</html>